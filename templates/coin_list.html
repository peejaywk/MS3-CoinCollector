{% extends "base.html" %}
{% block content %}

<div class="row">
    <div class="col s12">
        <h4>Coin List</h4>
        <p>Below are the coins currently listed in the database for collection. Click on a coin for more details and to
            add to your collection please click on the 'Add' button.
        </p>
    </div>
</div>

<div class="row card-panel search-panel">
    <form action="{{ url_for('search') }}" method="post" class="col s12">
        <!-- <div class="row valign-wrapper center-align"> -->
        <div class="row center-align search-valign">
            <div class="input-field col s12 l8">
                <i class="fas fa-search prefix light-blue-text text-darken-4"></i>
                <input type="text" name="query" id="query" minlength="3" class="validate" required>
                <label for="query">Search Coins</label>
            </div>
            <div class="col s12 l4">
                <a href="{{ url_for('coin_list') }}" class="red btn-small">Reset</a>
                <button type="submit" class="light-blue darken-1 btn-small">
                    <i class="fas fa-search left"></i>Search
                </button>
            </div>
        </div>
    </form>
</div>

<div class="row">
    {% for coin in coins %}
    <div class="col s12 l6 xl4">
        <div class="coin-card card small">
            <div class="card-image waves-effect waves-block waves-light">
                <img class="activator coin-image" src="{{ coin.reverse_image }}">
            </div>

            <div class="card-content">
                <span class="card-title activator grey-text text-darken-4">{{ coin.year}}: {{ coin.issue }}<i
                        class="fas fa-ellipsis-v right"></i></span>

            </div>

            <div class="card-action">
                <div class="col s6">
                    <a href="{{ url_for('add_user_coin', coin_id=coin._id) }}"
                        class="secondary-content btn-small green lighten-1 left">Add</a>
                </div>
                {% if session.admin %}
                <div class="col s6">
                    <a href="{{ url_for('edit_coin', coin_id=coin._id) }}"
                        class="secondary-content btn-small orange lighten-1 right">Edit</a>
                </div>
                {% endif %}
            </div>
            <div class="card-reveal">
                <span class="card-title grey-text text-darken-4">{{ coin.issue }}<i
                        class="fas fa-times right"></i></span>
                <p>{{ coin.description }}</p>
                <p>Edge Inscription: {{ coin.edge }}</p>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{{ pagination.info }}
{{ pagination.links }}
{% endblock %}